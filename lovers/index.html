<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Lovers</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- Font: Poppins -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet"/>

  <style>
    /* ===============  Design Tokens (responsive via clamp)  =============== */
    :root{
      /* Palette */
      --bg-1:#ff9aa2;
      --bg-2:#ffb3c1;
      --bg-3:#ffd1dc;
      --heart:#ff2b6a;
      --ink:#241018;
      --ink-2:#6b1840;
      --spotify:#121212;
      --spotify-2:#1db954;

      /* Radius & Shadow */
      --radius-xl: 24px;
      --radius-lg: 18px;
      --shadow-lg: 0 14px 40px rgba(0,0,0,.18);
      --shadow-md: 0 10px 24px rgba(0,0,0,.14);

      /* Spacing (fluid) */
      --space-1: clamp(8px, 1.2vw, 12px);
      --space-2: clamp(12px, 1.6vw, 16px);
      --space-3: clamp(16px, 2.2vw, 22px);
      --space-4: clamp(20px, 3vw, 28px);
      --space-5: clamp(24px, 3.6vw, 36px);

      /* Type (fluid) */
      --fz-xs: clamp(11px, .85vw, 12px);
      --fz-sm: clamp(13px, 1.2vw, 14px);
      --fz-md: clamp(14px, 1.4vw, 16px);
      --fz-lg: clamp(18px, 2.2vw, 22px);
      --fz-xl: clamp(24px, 3.4vw, 34px);
    }

    /* iOS “notch” safe areas */
    :root {
      --safe-top: env(safe-area-inset-top);
      --safe-right: env(safe-area-inset-right);
      --safe-bottom: env(safe-area-inset-bottom);
      --safe-left: env(safe-area-inset-left);
    }

    *{box-sizing:border-box}
    html,body{
      height:100%;
      margin:0;
      color:var(--ink);
      font-family:"Poppins",system-ui,-apple-system,Segoe UI,Roboto,Arial,Helvetica,sans-serif;
      background: linear-gradient(135deg,var(--bg-1),var(--bg-2) 45%, var(--bg-3));
      overflow-x:hidden;
      -webkit-tap-highlight-color: transparent;
    }

    /* Soft animated background glow */
    body::before{
      content:"";
      position:fixed; inset:calc(-20vmax - var(--safe-top)) calc(-20vmax - var(--safe-right)) calc(-20vmax - var(--safe-bottom)) calc(-20vmax - var(--safe-left));
      background:
        radial-gradient(40vmax 40vmax at 15% 20%, rgba(255,255,255,.25), transparent 60%),
        radial-gradient(35vmax 35vmax at 85% 10%, rgba(255,0,128,.18), transparent 60%),
        radial-gradient(30vmax 30vmax at 70% 80%, rgba(255,255,255,.18), transparent 60%);
      filter: blur(42px) saturate(120%);
      z-index:-2;
      animation: drift 18s ease-in-out infinite alternate;
    }
    @keyframes drift{to{transform:translate3d(2vmax,-2vmax,0) scale(1.02)}}
    @media (prefers-reduced-motion: reduce){
      body::before{animation:none}
    }

    /* ==================== Falling hearts ==================== */
    .hearts{ position:fixed; inset:0; pointer-events:none; z-index:-1; overflow:hidden; }
    .heart{
      position:absolute; top:-12vh;
      font-size:24px; color:var(--heart);
      filter: drop-shadow(0 8px 14px rgba(201,24,74,.35));
      opacity:.95;
      animation: fall linear forwards, sway ease-in-out infinite;
      will-change: transform;
    }
    @keyframes fall{ to{ transform:translateY(120vh) rotate(360deg) } }
    @keyframes sway{
      0%{ margin-left:0 } 50%{ margin-left:20px } 100%{ margin-left:0 }
    }
    @media (prefers-reduced-motion: reduce){
      .heart{ animation:none; top:auto; bottom:8vh }
    }

    /* ==================== Layout ==================== */
    .wrap{
      min-height:100svh;
      display:grid;
      place-items:center;
      padding: calc(var(--space-4) + var(--safe-top)) var(--space-4) calc(var(--space-4) + var(--safe-bottom));
    }

    .card{
      width:min(1000px, 94vw);
      display:grid;
      grid-template-columns: 1fr;
      gap: var(--space-4);
      padding: var(--space-4);
      background: rgba(255,255,255,.68);
      backdrop-filter: blur(10px) saturate(140%);
      border: 1px solid rgba(255,255,255,.35);
      border-radius: var(--radius-xl);
      box-shadow: var(--shadow-lg);
    }

    /* Two-column on larger screens */
    @media (min-width: 920px){
      .card{
        grid-template-columns: 1.1fr .9fr;
        align-items:center;
      }
      .title, .player-wrap{ grid-column: 2 / span 1; }
      .hero{ grid-column: 1 / span 1; }
    }

    /* ==================== Center Photo ==================== */
    .hero{ display:grid; place-items:center; }
    .photo-wrap{
      position:relative;
      width:min(440px, 82vw);
      aspect-ratio: 1/1;
      border-radius: clamp(18px, 3vw, 28px);
      overflow:hidden;
      box-shadow: 0 18px 44px rgba(36,10,17,.22), inset 0 0 0 1px rgba(255,255,255,.65);
      isolation:isolate;
    }
    .photo-wrap img{
      width:100%; height:100%; object-fit:cover;
      transform:scale(1.02);
      transition: transform .5s ease;
    }
    @media (hover: hover){
      .photo-wrap:hover img{ transform:scale(1.06); }
    }

    /* Side hearts hugging the photo */
    .side-heart{
      position:absolute; inset:auto;
      width:clamp(70px, 12vw, 110px); aspect-ratio:1/1;
      display:grid; place-items:center; color:#fff;
      background: radial-gradient(80% 80% at 30% 30%, #ff6b9a, #ff2b6a 60%, #b90e42 100%);
      clip-path: path("M 50 15 C 35 -5, 0 0, 0 30 C 0 55, 25 70, 50 90 C 75 70, 100 55, 100 30 C 100 0, 65 -5, 50 15 Z");
      filter: drop-shadow(0 12px 24px rgba(201,24,74,.35));
      animation: pulse 1.6s ease-in-out infinite;
    }
    .side-heart i{ font-size: clamp(20px, 3vw, 28px); }
    .left-heart{ left: -10px; top:50%; transform: translate(-40%,-50%) rotate(-6deg) }
    .right-heart{ right: -10px; top:50%; transform: translate(40%,-50%) rotate(6deg) }
    @keyframes pulse{ 0%,100%{ transform: translate(var(--tx,0),-50%) scale(1)} 50%{ transform: translate(var(--tx,0),-50%) scale(1.06)} }
    .left-heart{ --tx:-40% } .right-heart{ --tx:40% }

    /* ==================== Title ==================== */
    .title{ text-align:center; }
    .title h1{
      margin:.2rem 0 .35rem;
      font-size: var(--fz-xl);
      line-height:1.12;
      font-weight:800;
      letter-spacing:.2px;
      color:#7a1030;
      text-shadow:0 1px 0 #fff8, 0 4px 18px rgba(122,16,48,.12);
    }
    .title p{
      margin:0 auto;
      max-width: 45ch;
      font-size: var(--fz-md);
      color: var(--ink-2);
      opacity:.92;
    }

    /* ==================== Player (Spotify style, mobile-first) ==================== */
    .player{
      --pad: var(--space-2);
      display:grid;
      grid-template-columns: auto 1fr auto;
      align-items:center;
      gap: var(--space-2);
      background: var(--spotify);
      border-radius: var(--radius-lg);
      padding: var(--pad);
      color:#eee;
      box-shadow: var(--shadow-md);
      touch-action: manipulation;
    }

    /* Stack on very small screens */
    @container player (max-width: 420px) { /* (fallback provided by media below) */ }
    @media (max-width: 460px){
      .player{
        grid-template-columns: 1fr auto;
        grid-template-areas:
          "cover controls"
          "meta  meta";
        gap: var(--space-2);
      }
      .cover{ grid-area: cover; }
      .controls{ grid-area: controls; justify-self:end; }
      .meta{ grid-area: meta; }
    }

    .cover{
      width: clamp(56px, 12vw, 72px);
      aspect-ratio:1/1;
      border-radius: 12px;
      overflow:hidden;
      box-shadow: 0 8px 16px rgba(0,0,0,.25);
    }
    .cover img{ width:100%; height:100%; object-fit:cover; }

    .meta{ min-width:0; }
    .track{ font-weight:700; font-size: var(--fz-sm); line-height:1.15; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
    .artist{ font-size: var(--fz-xs); color:#bbb; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

    .controls{
      display:flex; align-items:center; gap: 10px;
    }
    .btn{
      width: clamp(44px, 9vw, 48px);
      height: clamp(44px, 9vw, 48px);
      min-width:44px; min-height:44px; /* a11y touch target */
      border-radius:999px; border:none; outline:none;
      display:grid; place-items:center; cursor:pointer;
      background:#1f1f1f; color:#eee;
      transition: transform .12s ease, background .2s ease;
    }
    .btn:hover{ transform: translateY(-1px); background:#2a2a2a }
    .btn:active{ transform: translateY(0) scale(.98) }
    .btn.play{ background: var(--spotify-2); color:#000; font-weight:900; box-shadow: 0 6px 18px rgba(29,185,84,.35) }

    .progress{
      display:flex; align-items:center; gap:10px;
      width:100%; margin-top:6px;
    }
    .time{ font-size: var(--fz-xs); color:#aaa; width:36px; text-align:center }
    .bar{
      position:relative; height:10px; border-radius:999px; background:#2a2a2a; overflow:hidden; flex:1 1 auto; cursor:pointer;
      touch-action: none;
    }
    .bar-fill{
      position:absolute; inset:0 auto 0 0; width:0%;
      background: linear-gradient(90deg, var(--spotify-2), #42ff9c);
    }
    .bar-knob{
      position:absolute; top:50%; transform:translate(-50%,-50%);
      width:14px; height:14px; border-radius:50%;
      background:#fff; box-shadow:0 0 0 3px rgba(66,255,156,.28);
      left:0%;
      pointer-events:none;
    }

    /* Better spacing on tablets/desktop */
    @media (min-width: 700px){
      .player{ --pad: var(--space-3) }
      .track{ font-size: var(--fz-md) }
      .artist{ font-size: var(--fz-sm) }
    }

    /* Small utility */
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding:.45rem .8rem;
      border-radius:999px;
      background:#ffffffb3; color:#7a1030; font-weight:700; font-size: var(--fz-sm);
      box-shadow: var(--shadow-md);
    }

    /* Make the whole layout respect system color scheme (optional tweak for readability) */
    @media (prefers-color-scheme: dark){
      .card{ background: rgba(255,255,255,.64) }
    }


    /* === Falling hearts background === */
body {
  position: relative;
  
}

body::before {
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image:
    url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='32' height='32'><text y='24' font-size='24' fill='%23ff2b6a'>❤</text></svg>");
  background-repeat: repeat;
  background-size: 32px 32px;
  animation: fall 15s linear infinite;
  opacity: 0.4;
  z-index: -1;
}

@keyframes fall {
  0% {
    background-position: 0 -100%;
  }
  100% {
    background-position: 0 100%;
  }
}

  </style>
</head>
<body>
  <div class="hearts" id="hearts"></div>

  <main class="wrap">
    <section class="card">
      <div class="hero">
        <div class="photo-wrap">
          <img src="lovers.jpg" alt="Valentine Photo" />
          <div class="side-heart left-heart"><i class="fa-solid fa-heart"></i></div>
          <div class="side-heart right-heart"><i class="fa-solid fa-heart"></i></div>
        </div>
      </div>

      <div class="title">
        <h1>Congratulations!</h1>
        <p>Here’s a little page with love, music, and a shower of hearts—just for you. 💝</p>
      </div>

      <div class="player" id="player">
        <div class="cover">
          <img src="https://images.unsplash.com/photo-1524231757912-21f4fe3a7200?q=80&w=800&auto=format&fit=crop" alt="Cover">
        </div>
        <div class="meta">
          <div class="track" id="trackTitle">Museo</div>
          <div class="artist" id="trackArtist">By Eliza Maturan</div>
          <div class="progress">
            <div class="time" id="currentTime">0:00</div>
            <div class="bar" id="bar">
              <div class="bar-fill" id="barFill"></div>
              <div class="bar-knob" id="barKnob"></div>
            </div>
            <div class="time" id="duration">0:00</div>
          </div>
        </div>
        <div class="controls">
          <button class="btn play" id="playBtn"><i class="fa-solid fa-play"></i></button>
          <button class="btn" id="muteBtn"><i class="fa-solid fa-volume-high"></i></button>
        </div>
        <audio id="audio">
          <source src="song.mp3" type="audio/mpeg">
        </audio>
      </div>
    </section>
  </main>

  <script>
    const container = document.getElementById('hearts');
    const HEARTS = 20;
    function spawnHeart(){
      const span = document.createElement('span');
      span.className = 'heart';
      span.innerHTML = '<i class="fa-solid fa-heart"></i>';
      const size = Math.floor(Math.random()*20)+14;
      const left = Math.random()*100;
      const dur = 8 + Math.random()*10;
      span.style.left = left + 'vw';
      span.style.fontSize = size + 'px';
      span.style.animationDuration = dur + 's, ' + (3.5 + Math.random()*3) + 's';
      container.appendChild(span);
      setTimeout(()=>span.remove(), dur*1000);
    }
    setInterval(spawnHeart, 800);

    const audio = document.getElementById('audio');
    const playBtn = document.getElementById('playBtn');
    const muteBtn = document.getElementById('muteBtn');
    const barFill = document.getElementById('barFill');
    const barKnob = document.getElementById('barKnob');
    const currentTimeEl = document.getElementById('currentTime');
    const durationEl = document.getElementById('duration');
    let isPlaying = false;
    let raf = null;

    function formatTime(sec){
      if(!isFinite(sec)) return '0:00';
      const m = Math.floor(sec/60);
      const s = Math.floor(sec%60).toString().padStart(2,'0');
      return `${m}:${s}`;
    }
    function updateProgress(){
      const {currentTime, duration} = audio;
      const pct = (currentTime / (duration || 1)) * 100;
      barFill.style.width = `${pct}%`;
      barKnob.style.left = `${pct}%`;
      currentTimeEl.textContent = formatTime(currentTime);
      durationEl.textContent = formatTime(duration);
      if(isPlaying) raf = requestAnimationFrame(updateProgress);
    }

    playBtn.addEventListener('click', () => {
      if(!isPlaying){
        audio.play().then(()=>{
          isPlaying = true;
          playBtn.innerHTML = '<i class="fa-solid fa-pause"></i>';
          raf = requestAnimationFrame(updateProgress);
        });
      }else{
        audio.pause();
        isPlaying = false;
        playBtn.innerHTML = '<i class="fa-solid fa-play"></i>';
        cancelAnimationFrame(raf);
      }
    });

    muteBtn.addEventListener('click', ()=>{
      audio.muted = !audio.muted;
      muteBtn.innerHTML = audio.muted ? '<i class="fa-solid fa-volume-xmark"></i>' : '<i class="fa-solid fa-volume-high"></i>';
    });

    audio.addEventListener('loadedmetadata', updateProgress);
    audio.addEventListener('ended', ()=>{
      isPlaying = false;
      playBtn.innerHTML = '<i class="fa-solid fa-play"></i>';
      cancelAnimationFrame(raf);
      updateProgress();
    });
  </script>
</body>
</html>
