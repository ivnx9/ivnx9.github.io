<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>SmartHydroFarm – Future Farming Starts Here</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0a0a0a;
      --card:#1a1a1a;
      --accent:#00ff8c;
      --accent2:#00ccff;
      --text:#e4e4e4;
      --error:#ff3860;
      --radius:12px;
      --shadow:0 8px 24px rgba(0,255,140,.15);
      --trans:.3s ease;
    }
    *{margin:0;padding:0;box-sizing:border-box;font-family:'Exo 2',sans-serif}
    html{scroll-behavior:smooth}
    body{background:var(--bg);color:var(--text);overflow-x:hidden}
    header{position:fixed;top:0;left:0;width:100%;padding:15px 8%;display:flex;align-items:center;justify-content:space-between;z-index:1000;transition:.3s}
    header.scrolled{background:rgba(10,10,10,.8);backdrop-filter:blur(10px)}
    .logo{display:flex;align-items:center;gap:8px;font-weight:700;font-size:1.5rem;color:var(--accent)}
    .logo i{font-size:28px}
    .cta-btn{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#000;padding:10px 22px;border:none;border-radius:50px;font-weight:700;cursor:pointer;transition:var(--trans)}
    .cta-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow)}
    .hero{display:flex;flex-direction:column;align-items:center;text-align:center;padding:120px 8% 80px}
    .hero h1{font-size:clamp(2.2rem,5vw,3.5rem);font-weight:700;margin-bottom:15px}
    .hero p{max-width:600px;font-size:1.1rem;color:var(--text);opacity:.8;margin-bottom:30px}
    .feature-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:30px;padding:80px 8%}
    .feature-card{background:var(--card);border:1px solid rgba(255,255,255,.06);border-radius:var(--radius);padding:30px;text-align:center;transition:var(--trans)}
    .feature-card:hover{transform:translateY(-8px);box-shadow:var(--shadow)}
    .feature-card i{font-size:2.5rem;color:var(--accent);margin-bottom:15px}
    .feature-card h3{margin-bottom:10px}
    .feature-card p{opacity:.7}
    .login-section{background:radial-gradient(circle at top,rgba(0,255,140,.08),transparent);padding:80px 8%}
    .login-box{max-width:420px;margin:auto;background:var(--card);border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
    .tabs{display:flex;background:rgba(255,255,255,.03)}
    .tab{flex:1;text-align:center;padding:14px;font-weight:600;cursor:pointer;transition:var(--trans);border-bottom:3px solid transparent}
    .tab.active{color:var(--accent);border-color:var(--accent)}
    .form{display:none;flex-direction:column;gap:18px;padding:30px}
    .form.active{display:flex}
    .field{position:relative}
    .field input{width:100%;padding:14px 18px;background:rgba(255,255,255,.05);border:1px solid rgba(255,255,255,.08);border-radius:var(--radius);color:var(--text);font-size:14px;transition:var(--trans)}
    .field input:focus{outline:none;border-color:var(--accent);box-shadow:0 0 0 2px rgba(0,255,140,.2)}
    .eye{position:absolute;right:15px;top:50%;transform:translateY(-50%);cursor:pointer;font-size:16px}
    .btn{background:linear-gradient(135deg,var(--accent),var(--accent2));color:#000;border:none;padding:14px;font-weight:700;border-radius:var(--radius);cursor:pointer}
    .btn:hover{transform:translateY(-2px);box-shadow:var(--shadow)}
    .msg{height:16px;font-size:13px;color:var(--error);text-align:center}
    footer{padding:40px 8%;text-align:center;font-size:.9rem;opacity:.6}
    @media(max-width:768px){
      .feature-grid{padding:60px 5%}
      .hero{padding:100px 5% 60px}
    }
  </style>
</head>
<body>

  <!-- Header -->
  <header id="header">
    <div class="logo">
      <i class="fas fa-seedling"></i>
      <span>SmartHydroFarm</span>
    </div>
    <button class="cta-btn" onclick="scrollToLogin()">Login / Sign Up</button>
  </header>

  <!-- Hero -->
  <section class="hero">
    <h1>The Future of <span style="color:var(--accent)">Farming</span> is Vertical</h1>
    <p>AI-powered hydroponic towers that use 95 % less water and grow 3× faster. Monitor and control your crops from anywhere.</p>
    <button class="cta-btn" onclick="scrollToLogin()">Get Started</button>
  </section>

  <!-- Features -->
  <section class="feature-grid">
    <div class="feature-card">
      <i class="fas fa-microchip"></i>
      <h3>AI Optimization</h3>
      <p>Real-time data analysis maximizes yield and quality.</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-tint"></i>
      <h3>Water-Smart</h3>
      <p>Recirculating system saves 95 % water vs soil farming.</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-wifi"></i>
      <h3>IoT Connected</h3>
      <p>Control lights, pH, nutrients from your phone 24/7.</p>
    </div>
    <div class="feature-card">
      <i class="fas fa-leaf"></i>
      <h3>Year-Round</h3>
      <p>Indoor vertical racks produce fresh crops every season.</p>
    </div>
  </section>

  <!-- Login / Sign-Up Section -->
  <section class="login-section" id="loginSection">
    <div class="login-box">
      <div class="tabs">
        <div class="tab active" onclick="switchTab('login')">Login</div>
        <div class="tab" onclick="switchTab('signup')">Sign Up</div>
      </div>

      <!-- Login Form -->
      <form id="loginForm" class="form active" onsubmit="handleLogin(event)">
        <div class="field">
          <input type="text" name="username" value="ivnx9" placeholder="Username" required>
        </div>
        <div class="field">
          <input type="password" id="loginPw" value="ivan12345" name="password" placeholder="Password" required>
          <i class="fas fa-eye eye" onclick="togglePw('loginPw')"></i>
        </div>
        <div class="msg" id="loginMsg"></div>
        <button class="btn">Login</button>
      </form>

      <!-- Sign-Up Form -->
      <form id="signupForm" class="form" onsubmit="handleSignup(event)">
        <div class="field"><input name="name" placeholder="Full Name" required></div>
        <div class="field"><input type="email" name="email" placeholder="Email" required></div>
        <div class="field"><input name="username" placeholder="Username" required></div>
        <div class="field">
          <input type="password" id="signupPw" name="password" placeholder="Password" required>
          <i class="fas fa-eye eye" onclick="togglePw('signupPw')"></i>
        </div>
        <div class="msg" id="signupMsg"></div>
        <button class="btn">Create Account</button>
      </form>
    </div>
  </section>

  <footer>
    &copy; 2023 SmartHydroFarm – Sustainable Agriculture Reimagined
  </footer>

  <script>
    /* =====  Original functional code preserved  ===== */
    const api = {
      login : 'https://legitsource.coolpage.biz/shvf/login.php',
      signup: 'https://legitsource.coolpage.biz/shvf/signup.php'
    };

    /* Redirect if already logged in */
    if(localStorage.getItem('jwt_token')) location.href='dashboard.html';

    /* Tab switcher */
    function switchTab(tab){
      [...document.querySelectorAll('.tab,.form')].forEach(el=>el.classList.remove('active'));
      document.getElementById(tab+'Form').classList.add('active');
      document.querySelector(`.tab:nth-child(${tab==='login'?1:2})`).classList.add('active');
      document.querySelectorAll('.msg').forEach(m=>m.textContent='');
    }

    /* Password eye toggle */
    function togglePw(id){
      const el=document.getElementById(id);
      el.type=el.type==='password'?'text':'password';
    }

    /* Scroll to login section */
    function scrollToLogin(){
      document.getElementById('loginSection').scrollIntoView({behavior:'smooth'});
    }

    /* Handle login */
    async function handleLogin(e){
      e.preventDefault();
      const fd=new FormData(e.target);
      const msg=document.getElementById('loginMsg');
      msg.textContent='';
      try{
        const res=await fetch(api.login,{method:'POST',body:new URLSearchParams(fd)});
        const data=await res.json();
        if(data.status==='success'){
          localStorage.setItem('jwt_token',data.token);
          location.href='dashboard.html';
        }else{
          msg.textContent=data.message||'Login failed';
        }
      }catch(err){
        msg.textContent='Server error';
      }
    }

    /* Handle signup */
    async function handleSignup(e){
      e.preventDefault();
      const fd=new FormData(e.target);
      const msg=document.getElementById('signupMsg');
      msg.textContent='';
      try{
        const res=await fetch(api.signup,{method:'POST',body:new URLSearchParams(fd)});
        const data=await res.json();
        if(data.status==='success'){
          localStorage.setItem('jwt_token',data.token);
          location.href='dashboard.html';
        }else{
          msg.textContent=data.message||'Signup failed';
        }
      }catch(err){
        msg.textContent='Server error';
      }
    }

    /* Header shadow on scroll */
    window.addEventListener('scroll',()=>{
      document.getElementById('header').classList.toggle('scrolled',window.scrollY>40);
    });
  </script>
</body>
</html>
